{% extends "base.html.twig" %}

{% block title %} Liste des clients {% endblock %}
{% block contenu %}
    <div id="content">

        <table id="dtBasicExample" class="table table-striped table-bordered table-responsive-sm" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th class="th-sm">Nom
                    </th>
                    <th class="th-sm">Prenom
                    </th>
                    <th class="th-sm">Date de Naissance
                    </th>
                    <th class="th-sm">Code Postal
                    </th>
                    <th class="th-sm">Ville
                    </th>
                    <th class="th-sm">Rue
                    </th>
                    <th class="th-sm">Telephone
                    </th>
                </tr>
            </thead>

            <tbody>
                {% for c in listeC %}
                    <tr>
                        <td>{{c.nom|upper}}</td>
                        <td>{{c.prenom|capitalize}}</td>
                        <td>{{c.dateNaiss|date('d/m/Y')}}</td>
                        <td>{{c.cp}}</td>
                        <td>{{c.ville}}</td>
                        <td>{{c.rue}}</td>
                        <td>{{c.tel}}</td>
                    </tr>
                {% endfor %}
        </table>

    </div>


{% endblock %}

{% block js %}
    <script>
        $('#dtBasicExample').Tabledit({
            url: 'index.php?page=client',
            columns: {
                identifier: [0, 'idCli'],
                editable: [[1, 'nom'], [2, 'prenom'], [3, 'dateNaiss'], [4, 'cp'], [5, 'ville'], [6, 'rue'], [7, 'tel']]
            },
            onDraw: function () {
                console.log('onDraw()');
            },
            onSuccess: function (data, textStatus, jqXHR) {
                console.log('onSuccess(data, textStatus, jqXHR)');
                console.log(data);
                console.log(textStatus);
                console.log(jqXHR);
            },
            onFail: function (jqXHR, textStatus, errorThrown) {
                console.log('onFail(jqXHR, textStatus, errorThrown)');
                console.log(jqXHR);
                console.log(textStatus);
                console.log(errorThrown);
            },
            onAlways: function () {
                console.log('onAlways()');
            },
            onAjax: function (action, serialize) {
                console.log('onAjax(action, serialize)');
                console.log(action);
                console.log(serialize);
            }
        });
    </script>
{% endblock %}